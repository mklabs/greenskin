require.def("preview/menu",["domplate/domplate","core/lib","domplate/toolbar","core/trace"],function(Domplate,Lib,Toolbar,Trace){with(Domplate){function Menu(){}Menu.prototype={render:function(a){this.element=MenuPlate.render(a),this.toolbar=new Toolbar,this.toolbar.addButton({id:"credentials",label:"Powered by Jan Odvarko",tooltiptext:"http://www.softwareishard.com/blog/har-viewer/",command:Lib.bindFixed(this.onCredentials,this,!0)});var b=Lib.getElementByClass(this.element,"menuContent");this.toolbar.render(b),Lib.isWebkit&&(b.style.paddingTop="1px")},onCredentials:function(){window.open("http://www.softwareishard.com/blog/har-viewer/")},onFullPreview:function(){}};var MenuPlate=domplate({tag:DIV({"class":"menu",_repObject:"$object"},DIV({"class":"menuHandle",onmousemove:"$onMouseMove",onclick:"$onMouseClick"}),DIV({"class":"menuContent",style:"display: none"})),onMouseMove:function(a){var b=Lib.fixEvent(a);this.open(b.target)},onMouseClick:function(a){var b=Lib.fixEvent(a);this.toggle(b.target)},open:function(a){var b=Lib.getAncestorByClass(a,"menu"),c=Lib.getElementByClass(b,"menuContent");c.clientWidth<=0&&this.toggle(a)},toggle:function(a){var b=Lib.getAncestorByClass(a,"menu"),c=Lib.getElementByClass(b,"menuContent");$(c).animate({width:"toggle"},undefined,undefined,function(){var a=Lib.getElementByClass(b,"menuHandle");c.clientWidth>0?Lib.setClass(a,"opened"):Lib.removeClass(a,"opened")})},render:function(a,b){return this.tag.append({object:b},a,this)}});return Menu}})